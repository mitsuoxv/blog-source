{"title":"Cross-country productivity analysis is orange to apple comparison","markdown":{"yaml":{"title":"Cross-country productivity analysis is orange to apple comparison","author":"Mitsuo Shiota","date":"2023-02-17","date-modified":"2023-06-14","categories":["economics","Nikkei"],"knitr":{"opts_chunk":{"out.width":"70%"}}},"headingText":"Productivity comparison between the U.S. and Japan","containsRefs":false,"markdown":"\n\n```{r}\n#| label: setup\n#| message: false\n\nlibrary(tidyverse)\nlibrary(lubridate)\nlibrary(patchwork)\n\nlibrary(scales)\ntheme_set(theme_light())\n\nlibrary(OECD)\nlibrary(gghighlight)\n```\n\n\n[Prof Tetsuji Okazaki of the University of Tokyo](https://www.e.u-tokyo.ac.jp/fservice/faculty/okazaki/okazaki-e/okazaki01-e.html) shows Japan lags the US in labor productivity level, and the gap is widening, in his [\"Lecture on Economics\" in Nikkei news paper on February 17, 2023 (Japanese)](https://www.nikkei.com/article/DGXZQOCD2515M0V20C23A1000000/).\n\n```{r}\n#| label: get_data\n#| message: false\n\ncountries <- c(\"USA\", \"JPN\", \"GBR\", \"DEU\", \"FRA\", \"ITA\", \"CAN\")\n\nexchange_rate <- get_dataset(\n  \"SNA_TABLE4\",\n  filter = list(countries, c(\"PPPGDP\")),\n  start_time = 2005, end_time = 2021\n) |> \n  mutate(across(c(ObsValue, Time), as.numeric))\n\ngdp <- get_dataset(\n  \"SNA_TABLE1\",\n  filter = list(countries, \"B1_GE\", c(\"DOB\", \"C\", \"V\")),\n  start_time = 2005, end_time = 2021\n) |> \n  mutate(across(c(ObsValue, Time), as.numeric))\n\nlabor <- get_dataset(\n  \"ALFS_SUMTAB\",\n  filter = list(countries, \"YGTT08L1_ST\"),\n  start_time = 2005, end_time = 2021\n) |> \n  mutate(across(c(ObsValue, Time), as.numeric))\n\nhours_worked <- get_dataset(\n  \"ANHRS\",\n  filter = list(countries, \"TE\"),\n  start_time = 2005, end_time = 2021\n) |> \n  mutate(across(c(ObsValue, Time), as.numeric))\n```\n\n```{r}\n#| label: us_deflator\n\nus_deflator <- gdp |> \n  filter(LOCATION == \"USA\", MEASURE == \"DOB\") |> \n  mutate(deflator = ObsValue / 100) |> \n  select(Time, deflator)\n\nemployment <- labor |> \n  select(LOCATION, Time, employment = ObsValue)\n\nppp <- exchange_rate |> \n  select(LOCATION, Time, ppp = ObsValue)\n```\n\n```{r}\n#| label: ppp_method\n\nppp_method <- gdp |> \n  filter(MEASURE == \"C\") |> \n  left_join(employment, by = c(\"LOCATION\", \"Time\")) |> \n  left_join(ppp, by = c(\"LOCATION\", \"Time\")) |> \n  left_join(us_deflator, by = \"Time\") |> \n  mutate(\n    nominal_prod_loc = ObsValue / employment,\n    nominal_prod_usd = nominal_prod_loc / ppp,\n    real_prod_usd = nominal_prod_usd / deflator\n    ) |> \n  group_by(LOCATION) |> \n  mutate(index = real_prod_usd / real_prod_usd[1] * 100) |> \n  ungroup()\n  \np1 <- ppp_method |> \n  filter(LOCATION %in% c(\"USA\", \"JPN\")) |> \n  mutate(LOCATION = factor(LOCATION, levels = c(\"USA\", \"JPN\"))) |> \n  ggplot(aes(Time, real_prod_usd)) +\n  geom_line(aes(color = LOCATION)) +\n  labs(x = NULL, y = \"Real productivity per person\\n(thousand dollars, PPP, 2015 price)\",\n       color = \"Country\")\n\np2 <- ppp_method |> \n  filter(LOCATION %in% c(\"USA\", \"JPN\")) |> \n  mutate(LOCATION = factor(LOCATION, levels = c(\"USA\", \"JPN\"))) |> \n  ggplot(aes(Time, index)) +\n  geom_line(aes(color = LOCATION)) +\n  scale_y_continuous(limits = c(85, 125)) +\n  labs(x = NULL, y = \"Real productivity per person\\n(2005 = 100)\",\n       color = \"Country\")\n```\n\n```{r}\n#| label: non_ppp_method\n\nhours_worked_te <- hours_worked |> \n  select(COUNTRY, Time, hours_worked = ObsValue)\n\nnon_ppp_method <- gdp |> \n  filter(MEASURE == \"V\") |> \n  left_join(employment, by = c(\"LOCATION\", \"Time\")) |> \n  left_join(hours_worked_te, by = c(\"LOCATION\" = \"COUNTRY\", \"Time\")) |> \n  mutate(\n    real_prod_loc = ObsValue / employment,\n    real_prod_loc_hr = real_prod_loc / hours_worked\n    ) |> \n  group_by(LOCATION) |> \n  mutate(\n    prod_per_person = real_prod_loc / real_prod_loc[1] * 100,\n    prod_per_hour = real_prod_loc_hr / real_prod_loc_hr[1] * 100\n    ) |> \n  ungroup()\n\np3 <- non_ppp_method |> \n  filter(LOCATION %in% c(\"USA\", \"JPN\")) |> \n  mutate(LOCATION = factor(LOCATION, levels = c(\"USA\", \"JPN\"))) |> \n  ggplot(aes(Time, prod_per_person)) +\n  geom_line(aes(color = LOCATION)) +\n  geom_line(aes(y = index), color = \"gray80\",\n            data = ppp_method |> filter(LOCATION == \"JPN\")) +\n  scale_y_continuous(limits = c(85, 125)) +\n  labs(x = NULL, y = \"Real productivity per person\\n(2005 = 100)\",\n       color = \"Country\")\n\np4 <- non_ppp_method |> \n  filter(LOCATION %in% c(\"USA\", \"JPN\")) |> \n  mutate(LOCATION = factor(LOCATION, levels = c(\"USA\", \"JPN\"))) |> \n  ggplot(aes(Time, prod_per_hour)) +\n  geom_line(aes(color = LOCATION)) +\n  scale_y_continuous(limits = c(85, 125)) +\n  labs(x = NULL, y = \"Real productivity per hour\\n(2005 = 100)\",\n       color = \"Country\")\n```\n\nHe shows the chart which is not exactly same, but similar to the left chart below, and says the gap in labor productivity level between the US and Japan is widening. I have modified it to make the right chart so that 2005 = 100. He uses PPP method. I think it is very difficult or impossible to compare the productivity level, as Japan and the US produce very different products and services. It is only possible to compare productivity growth, then using PPP is unnecessary and inappropriate.\n\n```{r}\n#| label: fig-ppp_method_chart\n#| fig-cap: Per-person productivity in 2015 dollars (PPP) and its index (2005 = 100) \n#| fig-align: center\n\np1 + p2 + plot_layout(ncol = 2, guides = \"collect\") + plot_annotation(\n  title = \"PPP method: nominal GDP per employed person in JPY\\nconverted to USD by PPP, then deflated to real by US GDP deflator\",\n  caption = \"Source: OECD stat\"\n)\n```\n\nBelow is the estimates of labor productivity growth without using PPP. Growth gap narrows in the left below. If we look at productivity per hour instead of per person in the right below, the gap narrows even further.\n\n```{r}\n#| label: fig-non_ppp_method_chart\n#| fig-cap: Per-person and per-hour productivity index (2005 = 100)\n#| fig-align: center\n\np3 + p4 + plot_layout(ncol = 2, guides = \"collect\") + plot_annotation(\n  title = \"Non PPP method: real GDP per employed person or per hour in JPY \\nindexed at 2005 = 100\",\n  subtitle = \"Gray line in the left is JPN by PPP method, the same as above right\",\n  caption = \"Source: OECD stat\"\n)\n```\n\n## Productivity comparison among G7 countries\n\nAlthough Japan looks like a loser in productivity per person in PPP dollars, it is not a loser in growth of productivity per hour.\n\n```{r}\n#| label: fig-g7\n#| message: false\n#| warning: false\n#| fig-cap: Per-person productivity in 2015 dollars (PPP), per-person and per-hour productivity index (2005 = 100)\n#| fig-align: center\n\np5 <- ppp_method |> \n  ggplot(aes(Time, real_prod_usd)) +\n  geom_line(aes(color = LOCATION)) +\n  gghighlight(LOCATION == \"JPN\", use_group_by = FALSE) +\n  labs(x = NULL, y = \"Real productivity per person\\n(thousand dollars, PPP, 2015 price)\",\n       color = \"Country\")\n\np6 <- non_ppp_method |> \n  ggplot(aes(Time, prod_per_person)) +\n  geom_line(aes(color = LOCATION)) +\n  gghighlight(LOCATION == \"JPN\", use_group_by = FALSE) +\n  scale_y_continuous(limits = c(85, 125)) +\n  labs(x = NULL, y = \"Real productivity per person (2005 = 100)\",\n       color = \"Country\")\n\np7 <- non_ppp_method |> \n  ggplot(aes(Time, prod_per_hour)) +\n  geom_line(aes(color = LOCATION)) +\n  gghighlight(LOCATION == \"JPN\", use_group_by = FALSE) +\n  scale_y_continuous(limits = c(85, 125)) +\n  labs(x = NULL, y = \"Real productivity per hour (2005 = 100)\",\n       color = \"Country\")\n\np5 + p6 + p7 + plot_layout(ncol = 3, guides = \"collect\") + plot_annotation(\n  title = \"Japan is not a loser in growth of productivity per hour\\namong G7 countries\",\n  caption = \"Source: OECD stat\"\n)\n```\n","srcMarkdownNoYaml":"\n\n```{r}\n#| label: setup\n#| message: false\n\nlibrary(tidyverse)\nlibrary(lubridate)\nlibrary(patchwork)\n\nlibrary(scales)\ntheme_set(theme_light())\n\nlibrary(OECD)\nlibrary(gghighlight)\n```\n\n## Productivity comparison between the U.S. and Japan\n\n[Prof Tetsuji Okazaki of the University of Tokyo](https://www.e.u-tokyo.ac.jp/fservice/faculty/okazaki/okazaki-e/okazaki01-e.html) shows Japan lags the US in labor productivity level, and the gap is widening, in his [\"Lecture on Economics\" in Nikkei news paper on February 17, 2023 (Japanese)](https://www.nikkei.com/article/DGXZQOCD2515M0V20C23A1000000/).\n\n```{r}\n#| label: get_data\n#| message: false\n\ncountries <- c(\"USA\", \"JPN\", \"GBR\", \"DEU\", \"FRA\", \"ITA\", \"CAN\")\n\nexchange_rate <- get_dataset(\n  \"SNA_TABLE4\",\n  filter = list(countries, c(\"PPPGDP\")),\n  start_time = 2005, end_time = 2021\n) |> \n  mutate(across(c(ObsValue, Time), as.numeric))\n\ngdp <- get_dataset(\n  \"SNA_TABLE1\",\n  filter = list(countries, \"B1_GE\", c(\"DOB\", \"C\", \"V\")),\n  start_time = 2005, end_time = 2021\n) |> \n  mutate(across(c(ObsValue, Time), as.numeric))\n\nlabor <- get_dataset(\n  \"ALFS_SUMTAB\",\n  filter = list(countries, \"YGTT08L1_ST\"),\n  start_time = 2005, end_time = 2021\n) |> \n  mutate(across(c(ObsValue, Time), as.numeric))\n\nhours_worked <- get_dataset(\n  \"ANHRS\",\n  filter = list(countries, \"TE\"),\n  start_time = 2005, end_time = 2021\n) |> \n  mutate(across(c(ObsValue, Time), as.numeric))\n```\n\n```{r}\n#| label: us_deflator\n\nus_deflator <- gdp |> \n  filter(LOCATION == \"USA\", MEASURE == \"DOB\") |> \n  mutate(deflator = ObsValue / 100) |> \n  select(Time, deflator)\n\nemployment <- labor |> \n  select(LOCATION, Time, employment = ObsValue)\n\nppp <- exchange_rate |> \n  select(LOCATION, Time, ppp = ObsValue)\n```\n\n```{r}\n#| label: ppp_method\n\nppp_method <- gdp |> \n  filter(MEASURE == \"C\") |> \n  left_join(employment, by = c(\"LOCATION\", \"Time\")) |> \n  left_join(ppp, by = c(\"LOCATION\", \"Time\")) |> \n  left_join(us_deflator, by = \"Time\") |> \n  mutate(\n    nominal_prod_loc = ObsValue / employment,\n    nominal_prod_usd = nominal_prod_loc / ppp,\n    real_prod_usd = nominal_prod_usd / deflator\n    ) |> \n  group_by(LOCATION) |> \n  mutate(index = real_prod_usd / real_prod_usd[1] * 100) |> \n  ungroup()\n  \np1 <- ppp_method |> \n  filter(LOCATION %in% c(\"USA\", \"JPN\")) |> \n  mutate(LOCATION = factor(LOCATION, levels = c(\"USA\", \"JPN\"))) |> \n  ggplot(aes(Time, real_prod_usd)) +\n  geom_line(aes(color = LOCATION)) +\n  labs(x = NULL, y = \"Real productivity per person\\n(thousand dollars, PPP, 2015 price)\",\n       color = \"Country\")\n\np2 <- ppp_method |> \n  filter(LOCATION %in% c(\"USA\", \"JPN\")) |> \n  mutate(LOCATION = factor(LOCATION, levels = c(\"USA\", \"JPN\"))) |> \n  ggplot(aes(Time, index)) +\n  geom_line(aes(color = LOCATION)) +\n  scale_y_continuous(limits = c(85, 125)) +\n  labs(x = NULL, y = \"Real productivity per person\\n(2005 = 100)\",\n       color = \"Country\")\n```\n\n```{r}\n#| label: non_ppp_method\n\nhours_worked_te <- hours_worked |> \n  select(COUNTRY, Time, hours_worked = ObsValue)\n\nnon_ppp_method <- gdp |> \n  filter(MEASURE == \"V\") |> \n  left_join(employment, by = c(\"LOCATION\", \"Time\")) |> \n  left_join(hours_worked_te, by = c(\"LOCATION\" = \"COUNTRY\", \"Time\")) |> \n  mutate(\n    real_prod_loc = ObsValue / employment,\n    real_prod_loc_hr = real_prod_loc / hours_worked\n    ) |> \n  group_by(LOCATION) |> \n  mutate(\n    prod_per_person = real_prod_loc / real_prod_loc[1] * 100,\n    prod_per_hour = real_prod_loc_hr / real_prod_loc_hr[1] * 100\n    ) |> \n  ungroup()\n\np3 <- non_ppp_method |> \n  filter(LOCATION %in% c(\"USA\", \"JPN\")) |> \n  mutate(LOCATION = factor(LOCATION, levels = c(\"USA\", \"JPN\"))) |> \n  ggplot(aes(Time, prod_per_person)) +\n  geom_line(aes(color = LOCATION)) +\n  geom_line(aes(y = index), color = \"gray80\",\n            data = ppp_method |> filter(LOCATION == \"JPN\")) +\n  scale_y_continuous(limits = c(85, 125)) +\n  labs(x = NULL, y = \"Real productivity per person\\n(2005 = 100)\",\n       color = \"Country\")\n\np4 <- non_ppp_method |> \n  filter(LOCATION %in% c(\"USA\", \"JPN\")) |> \n  mutate(LOCATION = factor(LOCATION, levels = c(\"USA\", \"JPN\"))) |> \n  ggplot(aes(Time, prod_per_hour)) +\n  geom_line(aes(color = LOCATION)) +\n  scale_y_continuous(limits = c(85, 125)) +\n  labs(x = NULL, y = \"Real productivity per hour\\n(2005 = 100)\",\n       color = \"Country\")\n```\n\nHe shows the chart which is not exactly same, but similar to the left chart below, and says the gap in labor productivity level between the US and Japan is widening. I have modified it to make the right chart so that 2005 = 100. He uses PPP method. I think it is very difficult or impossible to compare the productivity level, as Japan and the US produce very different products and services. It is only possible to compare productivity growth, then using PPP is unnecessary and inappropriate.\n\n```{r}\n#| label: fig-ppp_method_chart\n#| fig-cap: Per-person productivity in 2015 dollars (PPP) and its index (2005 = 100) \n#| fig-align: center\n\np1 + p2 + plot_layout(ncol = 2, guides = \"collect\") + plot_annotation(\n  title = \"PPP method: nominal GDP per employed person in JPY\\nconverted to USD by PPP, then deflated to real by US GDP deflator\",\n  caption = \"Source: OECD stat\"\n)\n```\n\nBelow is the estimates of labor productivity growth without using PPP. Growth gap narrows in the left below. If we look at productivity per hour instead of per person in the right below, the gap narrows even further.\n\n```{r}\n#| label: fig-non_ppp_method_chart\n#| fig-cap: Per-person and per-hour productivity index (2005 = 100)\n#| fig-align: center\n\np3 + p4 + plot_layout(ncol = 2, guides = \"collect\") + plot_annotation(\n  title = \"Non PPP method: real GDP per employed person or per hour in JPY \\nindexed at 2005 = 100\",\n  subtitle = \"Gray line in the left is JPN by PPP method, the same as above right\",\n  caption = \"Source: OECD stat\"\n)\n```\n\n## Productivity comparison among G7 countries\n\nAlthough Japan looks like a loser in productivity per person in PPP dollars, it is not a loser in growth of productivity per hour.\n\n```{r}\n#| label: fig-g7\n#| message: false\n#| warning: false\n#| fig-cap: Per-person productivity in 2015 dollars (PPP), per-person and per-hour productivity index (2005 = 100)\n#| fig-align: center\n\np5 <- ppp_method |> \n  ggplot(aes(Time, real_prod_usd)) +\n  geom_line(aes(color = LOCATION)) +\n  gghighlight(LOCATION == \"JPN\", use_group_by = FALSE) +\n  labs(x = NULL, y = \"Real productivity per person\\n(thousand dollars, PPP, 2015 price)\",\n       color = \"Country\")\n\np6 <- non_ppp_method |> \n  ggplot(aes(Time, prod_per_person)) +\n  geom_line(aes(color = LOCATION)) +\n  gghighlight(LOCATION == \"JPN\", use_group_by = FALSE) +\n  scale_y_continuous(limits = c(85, 125)) +\n  labs(x = NULL, y = \"Real productivity per person (2005 = 100)\",\n       color = \"Country\")\n\np7 <- non_ppp_method |> \n  ggplot(aes(Time, prod_per_hour)) +\n  geom_line(aes(color = LOCATION)) +\n  gghighlight(LOCATION == \"JPN\", use_group_by = FALSE) +\n  scale_y_continuous(limits = c(85, 125)) +\n  labs(x = NULL, y = \"Real productivity per hour (2005 = 100)\",\n       color = \"Country\")\n\np5 + p6 + p7 + plot_layout(ncol = 3, guides = \"collect\") + plot_annotation(\n  title = \"Japan is not a loser in growth of productivity per hour\\namong G7 countries\",\n  caption = \"Source: OECD stat\"\n)\n```\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":6,"fig-height":3.708,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":true,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"knitr"},"render":{"keep-tex":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":true,"code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":true,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true,"format-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["../../styles.css"],"output-file":"index.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.3.353","editor":"source","theme":"cosmo","title-block-banner":true,"title":"Cross-country productivity analysis is orange to apple comparison","author":"Mitsuo Shiota","date":"2023-02-17","date-modified":"2023-06-14","categories":["economics","Nikkei"],"knitr":{"opts_chunk":{"out.width":"70%"}}},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}