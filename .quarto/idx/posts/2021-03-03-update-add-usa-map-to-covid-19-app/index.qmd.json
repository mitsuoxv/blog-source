{"title":"Update: add USA map to Covid-19 app","markdown":{"yaml":{"title":"Update: add USA map to Covid-19 app","author":"Mitsuo Shiota","date":"2021-03-03","categories":["economics","R","Shiny"]},"containsRefs":false,"markdown":"\n\nI have added \"in the United States (map)\" panel to [Covid-19 app](https://mitsuoxv.shinyapps.io/covid/). Click the arrow, located in the right below the slider bar, you can see how novel corona virus has spread in the United States in animation. Note the color denotes relative, not absolute, hotness, as the legend changes over time.\n\nIn January 2020, it landed from China in the West Coast, but failed to spread. However, in spring, it landed again, this time from Europe in the East Coast, especially New York, and spread to the Mid West, and then to the South and the West, such as Arizona. It turned to north, and arrived at North Dakota. And it spread again to the South and the West. Now, as of the end of February 2021, New York is again one of the hot states. I guess new variants have arrived from Europe, South Africa and Brazil, and native new variants have appeared. I hope vaccines will be effective enough to contain new variants.\n\nI was watching the United States situation in [\"USA, Covid-19 situation by state\"](https://github.com/mitsuoxv/covid/blob/master/USA.md) using static maps, and wished to make animated maps. I happened to read some parts of [\"Mastering Shiny\" by Hadley Wickham](https://mastering-shiny.org/), and found it is fairly easy to add animate functionality to Shiny app. It is just to set `animate = TRUE` in `sliderInput` function. I first added animate functionality to my other Shiny app, [\"City competition to consume\"](https://mitsuoxv.shinyapps.io/jp-household/).\n\nToday, I turned to Covid-19 app. At first, it worked fine locally, but failed in shinyapps.io. I struggled a while. Finally I added `library(mapproj)` to app.R, and somehow it worked. I guess `library(maps)` automatically loads `mapproj` in the local RStudio IDE, but it doesn't in shinyapps.io.\n","srcMarkdownNoYaml":"\n\nI have added \"in the United States (map)\" panel to [Covid-19 app](https://mitsuoxv.shinyapps.io/covid/). Click the arrow, located in the right below the slider bar, you can see how novel corona virus has spread in the United States in animation. Note the color denotes relative, not absolute, hotness, as the legend changes over time.\n\nIn January 2020, it landed from China in the West Coast, but failed to spread. However, in spring, it landed again, this time from Europe in the East Coast, especially New York, and spread to the Mid West, and then to the South and the West, such as Arizona. It turned to north, and arrived at North Dakota. And it spread again to the South and the West. Now, as of the end of February 2021, New York is again one of the hot states. I guess new variants have arrived from Europe, South Africa and Brazil, and native new variants have appeared. I hope vaccines will be effective enough to contain new variants.\n\nI was watching the United States situation in [\"USA, Covid-19 situation by state\"](https://github.com/mitsuoxv/covid/blob/master/USA.md) using static maps, and wished to make animated maps. I happened to read some parts of [\"Mastering Shiny\" by Hadley Wickham](https://mastering-shiny.org/), and found it is fairly easy to add animate functionality to Shiny app. It is just to set `animate = TRUE` in `sliderInput` function. I first added animate functionality to my other Shiny app, [\"City competition to consume\"](https://mitsuoxv.shinyapps.io/jp-household/).\n\nToday, I turned to Covid-19 app. At first, it worked fine locally, but failed in shinyapps.io. I struggled a while. Finally I added `library(mapproj)` to app.R, and somehow it worked. I guess `library(maps)` automatically loads `mapproj` in the local RStudio IDE, but it doesn't in shinyapps.io.\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":6,"fig-height":3.708,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":true,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"markdown"},"render":{"keep-tex":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":true,"code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":true,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true,"format-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["../../styles.css"],"output-file":"index.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.3.353","editor":"source","theme":"cosmo","title-block-banner":true,"title":"Update: add USA map to Covid-19 app","author":"Mitsuo Shiota","date":"2021-03-03","categories":["economics","R","Shiny"]},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}